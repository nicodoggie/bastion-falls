{% extends "index.html" %}
{% import "macros.html" as macros %}
{% block title %} {{ config.title }} | {{ page.title }} {% endblock title %}

{% block content %}
<div id="calendar-header">
  {{ macros::calendar(size='md')}}
</div>
<h1 class="title">
  {% if page.extra.reformat_title | default(value=true) %} 
    {{ page.title | title}}
  {% else %}
    {{ page.title }}
  {% endif %}
  
</h1>
<hr />
{# Check if page is in the "character section" #}
  {% block sidebar %}
  {% set ddb = page.ddb | default(value="")%}
  {% set class = "" %}
  {% if page.path is starting_with("/character") %}
    {% set class = class ~ " sidebar-character"%}
  {% endif %}
  {% if page.path is starting_with("/locations") %}
    {% set class = class ~ " sidebar-location" %}
  {% endif %}
  {% if page.path is starting_with("/events") %}
  {% set class = class ~ " sidebar-events" %}
  {% endif %}
  <aside class="sidebar {{ class }}">
    {% if page.path is starting_with("/character") %}
      {{ macros::sidebar_character(name=page.title, config=page) }}
    {% endif %}
    {% if page.path is starting_with("/locations") %}
      {{ macros::sidebar_location(name=page.title, config=page) }}
    {% endif %}
    {% if page.path is starting_with("/events") %}
    {{ macros::sidebar_event(name=page.title, config=page) }}
    {% endif %}
  </aside>
  {% endblock %}
  {{ page.content | safe }}
{% endblock %}